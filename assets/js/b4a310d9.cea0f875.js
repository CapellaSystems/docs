"use strict";(self.webpackChunkcapella_documentation=self.webpackChunkcapella_documentation||[]).push([[2575],{2218:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/16_screenshot-745da23e9a0710e564ebc5efcbf3233e.png"},2670:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/01_screenshot-72ce43d067540d66f9674ef1275c6044.png"},4173:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/04_screenshot-3ac9db929b45b41d3c14979481d14aae.png"},4963:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/11_screenshot-6fabe3a2c93ee92641b31227bcea2445.png"},5380:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/14_screenshot-884649983b45948cbf2453ef792c08ad.png"},5384:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/10_screenshot-a8fe2870023484485b725677bde498b7.png"},6377:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/08_screenshot-2842b96658ef4152f0b16b9067268aa7.png"},7213:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/05_screenshot-c8f11f20ffc346f19a3244898345148d.png"},8115:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/02_screenshot-ba7c01dee8bd237e040167c4f191624a.png"},8159:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/06_screenshot-3d77c98f901cdd95050f4433c8b5104e.png"},8214:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/09_screenshot-4bd66d8fc8df801c9caac88f3c4d8fd2.png"},8292:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/07_screenshot-cd01dacb450d0055a72a45ac034892c0.png"},8453:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>o});var s=n(6540);const i={},r=s.createContext(i);function a(e){const t=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),s.createElement(r.Provider,{value:t},e.children)}},8593:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/13_screenshot-5bcebbd1ef9b2235a444a78cf5c00213.png"},8716:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/15_screenshot-fd02281a3b4105e2a17f243e6a447b9d.png"},9368:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/03_screenshot-309efb30d9de64c215ccf2378415fec1.png"},9518:(e,t,n)=>{n.d(t,{A:()=>s});const s=n.p+"assets/images/12_screenshot-8f6092b5d75f6ba96a0e3c6ff58b1a58.png"},9988:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"Cambria FTC/Tutorials/cambria-ftc-arib-stdb3/index","title":"Cambria FTC ARIB STD B37 Captions Extraction and Conversion","description":"Version 1 - 11/28/2023","source":"@site/docs/Cambria FTC/04-Tutorials/cambria-ftc-arib-stdb3/index.md","sourceDirName":"Cambria FTC/04-Tutorials/cambria-ftc-arib-stdb3","slug":"/Cambria FTC/Tutorials/cambria-ftc-arib-stdb3/","permalink":"/docs/Cambria FTC/Tutorials/cambria-ftc-arib-stdb3/","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Cambria FTC/04-Tutorials/cambria-ftc-arib-stdb3/index.md","tags":[],"version":"current","frontMatter":{"title":"Cambria FTC ARIB STD B37 Captions Extraction and Conversion"},"sidebar":"FTCSidebar","previous":{"title":"Cambria FTC and Cluster Trusted Executables and Scripts","permalink":"/docs/Cambria FTC/Tutorials/cambria-ftc-and-cluster-trusted-executables"},"next":{"title":"Speech-To-Text Filter","permalink":"/docs/cambria-ftc-stt"}}');var i=n(4848),r=n(8453);const a={title:"Cambria FTC ARIB STD B37 Captions Extraction and Conversion"},o="Cambria FTC: ARIB STD B37 Captions Extraction in MXF and Conversion to WebVTT and Burning the Captions in Video",c={},d=[{value:"Table of Contents",id:"table-of-contents",level:2},{value:"Note:",id:"note",level:2},{value:"Step 1: Detecting ARIB STD B37 Captions",id:"step-1-detecting-arib-std-b37-captions",level:2},{value:"Sample JobXML for the Body of the API call:",id:"sample-jobxml-for-the-body-of-the-api-call",level:2},{value:"Sample output:",id:"sample-output",level:2},{value:"Step 2: Extract Captions to WebVTT",id:"step-2-extract-captions-to-webvtt",level:2},{value:"Step 3: Burn in WebVTT Captions on Video",id:"step-3-burn-in-webvtt-captions-on-video",level:2}];function l(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.header,{children:(0,i.jsx)(t.h1,{id:"cambria-ftc-arib-std-b37-captions-extraction-in-mxf-and-conversion-to-webvtt-and-burning-the-captions-in-video",children:"Cambria FTC: ARIB STD B37 Captions Extraction in MXF and Conversion to WebVTT and Burning the Captions in Video"})}),"\n",(0,i.jsx)(t.p,{children:"Version 1 - 11/28/2023"}),"\n",(0,i.jsx)(t.h2,{id:"table-of-contents",children:"Table of Contents"}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:"#step-1-detecting-arib-std-b37-captions",children:"Step 1: Detecting ARIB STD B37 Captions"})}),"\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:"#step-2-extract-captions-to-webvtt",children:"Step 2: Extract Captions to WebVTT"})}),"\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.a,{href:"#step-3-burn-in-webvtt-captions-on-video",children:"Step 3: Burn in WebVTT Captions on Video"})}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"note",children:"Note:"}),"\n",(0,i.jsx)(t.p,{children:"This workflow supports ARIB STD B37 caption extraction from MXF files only as of 11/28/2023. Captions in TS streams may be supported in the future."}),"\n",(0,i.jsx)(t.h2,{id:"step-1-detecting-arib-std-b37-captions",children:"Step 1: Detecting ARIB STD B37 Captions"}),"\n",(0,i.jsx)(t.p,{children:"Submit a job through API:"}),"\n",(0,i.jsx)(t.pre,{children:(0,i.jsx)(t.code,{children:"POST: https://localhost:8648/CambriaFC/v1/Jobs\n"})}),"\n",(0,i.jsx)(t.h2,{id:"sample-jobxml-for-the-body-of-the-api-call",children:"Sample JobXML for the Body of the API call:"}),"\n",(0,i.jsx)(t.p,{children:"-Please replace SourceFilename with the path to your source"}),"\n",(0,i.jsx)(t.p,{children:"-Please replace OutputFilename with the output location and name you desire"}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Screenshot",src:n(2670).A+"",width:"627",height:"198"})}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Screenshot",src:n(8115).A+"",width:"626",height:"341"})}),"\n",(0,i.jsx)(t.p,{children:"The job will be queued to the FTC Manager and complete."}),"\n",(0,i.jsx)(t.h2,{id:"sample-output",children:"Sample output:"}),"\n",(0,i.jsx)(t.p,{children:"Please search for Metadata HasSTDB37 in the output. If it\u2019s set to 1 then the source has captions otherwise no captions have been detected on the source."}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Screenshot",src:n(9368).A+"",width:"626",height:"252"})}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Screenshot",src:n(4173).A+"",width:"626",height:"567"})}),"\n",(0,i.jsx)(t.h2,{id:"step-2-extract-captions-to-webvtt",children:"Step 2: Extract Captions to WebVTT"}),"\n",(0,i.jsx)(t.p,{children:"FTC will extract captions from a source file and generate a WebVTT output."}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsx)(t.li,{children:"Import your source into FTC."}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Screenshot",src:n(7213).A+"",width:"624",height:"310"})}),"\n",(0,i.jsxs)(t.ol,{start:"2",children:["\n",(0,i.jsx)(t.li,{children:"Add a closed caption exporter preset."}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Screenshot",src:n(8159).A+"",width:"624",height:"408"})}),"\n",(0,i.jsxs)(t.ol,{start:"3",children:["\n",(0,i.jsxs)(t.li,{children:["In the preset editor:","\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["Set ",(0,i.jsx)(t.strong,{children:"Container"})," to ",(0,i.jsx)(t.strong,{children:"Closed Captions"}),"."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Source Caption Mode"})," should be ",(0,i.jsx)(t.strong,{children:"ARIB-STD-B37"}),"."]}),"\n",(0,i.jsxs)(t.li,{children:["Specify an ",(0,i.jsx)(t.strong,{children:"output directory and filename"}),"."]}),"\n",(0,i.jsxs)(t.li,{children:["Enable ",(0,i.jsx)(t.strong,{children:"Include Font Size info (cue)"})," to preserve font size."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Screenshot",src:n(8292).A+"",width:"621",height:"450"})}),"\n",(0,i.jsxs)(t.ol,{start:"4",children:["\n",(0,i.jsx)(t.li,{children:"Queue the job."}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Screenshot",src:n(6377).A+"",width:"496",height:"328"})}),"\n",(0,i.jsxs)(t.ol,{start:"5",children:["\n",(0,i.jsx)(t.li,{children:"The job will process in Cambria Manager, where you can monitor status."}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Screenshot",src:n(8214).A+"",width:"624",height:"355"})}),"\n",(0,i.jsx)(t.p,{children:"Sample WebVTT Output:"}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Screenshot",src:n(5384).A+"",width:"621",height:"392"})}),"\n",(0,i.jsx)(t.h2,{id:"step-3-burn-in-webvtt-captions-on-video",children:"Step 3: Burn in WebVTT Captions on Video"}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:["Import the source as in previous steps and add a ",(0,i.jsx)(t.strong,{children:"source-side filter"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:["Apply ",(0,i.jsx)(t.strong,{children:"Timecode Overwrite Filter"})," to reset timecode to match the WebVTT file."]}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["\n",(0,i.jsxs)(t.p,{children:["Add ",(0,i.jsx)(t.strong,{children:"Subtitle Burn-In"})," as a filter."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Screenshot",src:n(4963).A+"",width:"623",height:"361"})}),"\n",(0,i.jsx)(t.p,{children:"Next Please choose Subtitile burn in as the filter"}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Screenshot",src:n(9518).A+"",width:"626",height:"295"})}),"\n",(0,i.jsxs)(t.ol,{start:"4",children:["\n",(0,i.jsxs)(t.li,{children:["Configure the filter:","\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:["Set ",(0,i.jsx)(t.strong,{children:"Subtitle Source Type"})," to ",(0,i.jsx)(t.strong,{children:"Web Video Text Tracks Format"}),"."]}),"\n",(0,i.jsxs)(t.li,{children:["Browse and select the ",(0,i.jsx)(t.strong,{children:"WebVTT file"})," generated in Step 2."]}),"\n",(0,i.jsxs)(t.li,{children:["Enable:","\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.strong,{children:"Use Embedded Formatting"})}),"\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.strong,{children:"Captions are Formatted with ARIB STD-B37"})}),"\n",(0,i.jsx)(t.li,{children:(0,i.jsx)(t.strong,{children:"Use Background"})}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(t.li,{children:["Use a monospaced font (e.g., ",(0,i.jsx)(t.strong,{children:"Noto Sans JP"})," from ",(0,i.jsx)(t.a,{href:"https://fonts.google.com/specimen/Noto+Sans+JP",children:"Google Fonts"}),")."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Screenshot",src:n(8593).A+"",width:"627",height:"404"})}),"\n",(0,i.jsxs)(t.ol,{start:"5",children:["\n",(0,i.jsxs)(t.li,{children:["Ensure two ",(0,i.jsx)(t.strong,{children:"source-side filters"})," are set in this order:"]}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Screenshot",src:n(5380).A+"",width:"511",height:"386"})}),"\n",(0,i.jsxs)(t.ol,{start:"6",children:["\n",(0,i.jsxs)(t.li,{children:["Switch to the ",(0,i.jsx)(t.strong,{children:"Encoding Tab"}),", add an encoding preset."]}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Screenshot",src:n(8716).A+"",width:"628",height:"305"})}),"\n",(0,i.jsxs)(t.ol,{start:"7",children:["\n",(0,i.jsxs)(t.li,{children:["Queue the job in ",(0,i.jsx)(t.strong,{children:"Manager"})," and wait for the output video with burnt-in subtitles."]}),"\n"]}),"\n",(0,i.jsx)(t.p,{children:(0,i.jsx)(t.img,{alt:"Screenshot",src:n(2218).A+"",width:"627",height:"360"})})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}}}]);